import{j as e}from"./index-BYUs0uFb.js";import{r as t}from"./vendor-DvMla3zT.js";import{aj as h,ak as g}from"./ui-BFD__GsY.js";import"./maps-DK6RsE9k.js";function w(){const[l,x]=t.useState([]),[r,m]=t.useState(""),[a,n]=t.useState(""),[o,c]=t.useState(!1);t.useEffect(()=>{i()},[a]);const i=async()=>{c(!0);const s=new URLSearchParams;r&&s.append("search",r),a&&s.append("category",a);try{const p=await(await fetch(`/api/learning/facts?${s.toString()}`)).json();x(p)}catch(d){console.error("Failed to load facts",d)}finally{c(!1)}},u=["Marine Life","Conservation","Pollution","Climate Change","Coral Reefs"];return e.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsxs("div",{className:"mb-10 text-center",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Ocean Fact Library"}),e.jsx("p",{className:"text-gray-600 max-w-2xl mx-auto",children:"Discover fascinating truths about our oceans. Use the search to find specific topics or browse by category."})]}),e.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8 justify-center",children:[e.jsxs("div",{className:"relative w-full md:w-96",children:[e.jsx(h,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-5 w-5"}),e.jsx("input",{type:"text",placeholder:"Search facts...",value:r,onChange:s=>m(s.target.value),onKeyDown:s=>s.key==="Enter"&&i(),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent outline-none"})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2 md:pb-0 hide-scrollbar",children:[e.jsx("button",{onClick:()=>n(""),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors ${a===""?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"All"}),u.map(s=>e.jsx("button",{onClick:()=>n(s),className:`px-4 py-2 rounded-full whitespace-nowrap transition-colors ${a===s?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:s},s))]})]}),o?e.jsx("div",{className:"text-center py-12",children:"Loading facts..."}):e.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-6 space-y-6",children:l.map(s=>e.jsxs("div",{className:"break-inside-avoid bg-white p-6 rounded-2xl shadow-sm border border-gray-100 hover:shadow-md transition-shadow",children:[e.jsx("span",{className:"inline-block px-3 py-1 bg-blue-50 text-blue-700 text-xs font-semibold rounded-full mb-3",children:s.category}),e.jsx("p",{className:"text-gray-800 text-lg font-medium leading-relaxed mb-4",children:s.content}),e.jsxs("div",{className:"flex items-center justify-between text-sm text-gray-500",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(g,{className:"h-4 w-4"}),e.jsx("span",{children:s.tags?.split(",")[0]||"General"})]}),s.source&&e.jsxs("span",{className:"text-xs italic truncate max-w-[150px]",title:s.source,children:["Src: ",s.source]})]})]},s.id))}),!o&&l.length===0&&e.jsx("div",{className:"text-center py-12 text-gray-500",children:"No facts found matching your criteria. Try a different search!"})]})}export{w as default};
