import{u as ee,e as te,j as e,d as T,f as A,g as E,C as L,B as b,c as ae}from"./index-w4qC22aZ.js";import{e as re,r as c}from"./vendor-tuWJg29S.js";import{I as j}from"./input-BK2Frxs7.js";import{T as se}from"./textarea-COf4gJas.js";import{L as h}from"./label-D8E2fVe1.js";import{S as ie,a as le,b as oe,c as ne,d as ce}from"./select-BjY4izMW.js";import{M as de,T as he,l as H,u as pe,c as xe,b as me}from"./maps-D8oPmz78.js";/* empty css                */import{Q as z,R as ge,k as ue,M as V,v as be,w as we,x as fe,W as X,z as ve,E as ye,J as je,K as Ne,N as D,V as ke,o as Ce}from"./ui-DmkW-1mw.js";import"./index-BdQq_4o_.js";import"./index-C8E_68Py.js";const J=[{value:"garbage",label:"Beach Garbage",icon:be,color:"text-red-500",bg:"bg-red-50 dark:bg-red-950/30",border:"border-red-200 dark:border-red-800",activeBg:"bg-red-100 dark:bg-red-900/50"},{value:"floating",label:"Floating Trash",icon:we,color:"text-orange-500",bg:"bg-orange-50 dark:bg-orange-950/30",border:"border-orange-200 dark:border-orange-800",activeBg:"bg-orange-100 dark:bg-orange-900/50"},{value:"wildlife",label:"Wildlife",icon:fe,color:"text-green-500",bg:"bg-green-50 dark:bg-green-950/30",border:"border-green-200 dark:border-green-800",activeBg:"bg-green-100 dark:bg-green-900/50"},{value:"coral",label:"Coral Health",icon:X,color:"text-pink-500",bg:"bg-pink-50 dark:bg-pink-950/30",border:"border-pink-200 dark:border-pink-800",activeBg:"bg-pink-100 dark:bg-pink-900/50"}],Se={garbage:["Plastic bottle","Plastic bag","Food wrapper","Cigarette butt","Fishing line","Other"],floating:["Ghost net","Plastic debris","Oil spill","Large trash","Microplastics","Other"],wildlife:["Sea turtle","Dolphin","Whale","Fish","Seabird","Jellyfish","Other"],coral:["Bleached coral","Damaged coral","Healthy coral","Algae overgrowth","Other"]},Fe=[{value:1,label:"Minor"},{value:2,label:"Low"},{value:3,label:"Moderate"},{value:4,label:"Serious"},{value:5,label:"Critical"}];async function _e(p,l=1024){return p.size<=l*1024?p:new Promise(u=>{const x=new Image;x.onload=()=>{const w=document.createElement("canvas");let{width:t,height:s}=x;const o=1920;(t>o||s>o)&&(t>s?(s=s*o/t,t=o):(t=t*o/s,s=o)),w.width=t,w.height=s,w.getContext("2d").drawImage(x,0,0,t,s);let f=.8;const v=()=>{w.toBlob(y=>{y&&(y.size<=l*1024||f<=.3)?u(new File([y],p.name,{type:"image/jpeg"})):(f-=.1,v())},"image/jpeg",f)};v()},x.src=URL.createObjectURL(p)})}const Pe=new H.DivIcon({html:`<div class="w-8 h-8 -ml-4 -mt-8 flex items-center justify-center">
    <div class="relative">
      <div class="absolute inset-0 bg-primary/40 rounded-full animate-ping scale-150" />
      <div class="relative bg-primary border-4 border-white rounded-full w-8 h-8 shadow-2xl flex items-center justify-center">
        <div class="w-2 h-2 bg-white rounded-full" />
      </div>
    </div>
  </div>`,className:"custom-div-icon",iconSize:[32,32],iconAnchor:[16,32]});function Te({onLocationSelect:p,selectedLocation:l}){const u=pe();return xe({click(x){p(x.latlng.lat,x.latlng.lng)}}),c.useEffect(()=>{l&&u.flyTo(l,u.getZoom())},[l,u]),l?e.jsx(me,{position:l,icon:Pe}):null}function Ee(){const p=re(),{profile:l}=ee(),u=()=>window.location.href="/login",{triggerLevelUp:x,triggerBadgeUnlock:w}=te(),[t,s]=c.useState({type:"",subcategory:"",description:"",severity:3,location:"",waterTemp:"",bleachPercent:"",depth:""}),[o,N]=c.useState(null),[f,v]=c.useState(null),[y,R]=c.useState(!1),[I,k]=c.useState(!1),[M,S]=c.useState(!1),[F,W]=c.useState(null),[O,q]=c.useState(0);if(c.useEffect(()=>{l&&fetch("/api/profiles/me").then(a=>a.ok?a.json():null).then(a=>{a?.level&&q(a.level)}).catch(()=>{})},[l]),c.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(a=>{s(r=>({...r,location:`${a.coords.latitude.toFixed(6)}, ${a.coords.longitude.toFixed(6)}`}))},()=>{})},[]),!l)return e.jsx("div",{className:"container mx-auto px-4 py-20 flex justify-center items-center min-h-[calc(100vh-10rem)]",children:e.jsxs(T,{variant:"glass",className:"max-w-md w-full border-white/10 !bg-black/60 backdrop-blur-2xl p-4",children:[e.jsxs(A,{className:"text-center pb-8",children:[e.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-[2rem] flex items-center justify-center mx-auto mb-6 border border-white/10",children:e.jsx(z,{className:"h-10 w-10 text-primary"})}),e.jsx(E,{className:"text-3xl font-black text-white tracking-tighter",children:"Guardian Access Required"}),e.jsx("p",{className:"text-sm font-bold text-white/40 mt-4 italic",children:"You need to be a registered Guardian to transmit real-time marine sightings and earn XP."})]}),e.jsxs(L,{className:"space-y-6 flex flex-col items-center",children:[e.jsx(b,{onClick:()=>u(),className:"w-full h-14 rounded-2xl bg-primary text-white font-black uppercase tracking-widest text-xs shadow-xl shadow-primary/30 border-none transition-all hover:scale-[1.02] active:scale-95",size:"lg",children:"Get Started"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-white/20",children:"Join the collective effort"})]})]})});const Y=async a=>{const r=a.target.files?.[0];if(r){R(!0);try{const i=await _e(r);N(i);const d=new FileReader;d.onloadend=()=>v(d.result),d.readAsDataURL(i)}catch{N(r);const i=new FileReader;i.onloadend=()=>v(i.result),i.readAsDataURL(r)}finally{R(!1)}}},K=()=>{k(!0),navigator.geolocation?navigator.geolocation.getCurrentPosition(a=>{s(r=>({...r,location:`${a.coords.latitude.toFixed(6)}, ${a.coords.longitude.toFixed(6)}`})),k(!1)},()=>{k(!1),alert("Unable to get your location. Please enter it manually.")}):(k(!1),alert("Geolocation is not supported by your browser"))},Q=async a=>{a.preventDefault(),S(!0);try{const[r,i]=t.location.split(",").map(n=>n.trim()),d=parseFloat(r),B=parseFloat(i);if(isNaN(d)||isNaN(B)){alert("Invalid location format. Use: latitude, longitude"),S(!1);return}const C={type:t.type,subcategory:t.subcategory,description:t.description,severity:t.severity,latitude:d,longitude:B};t.type==="coral"&&(t.waterTemp&&(C.water_temp=parseFloat(t.waterTemp)),t.bleachPercent&&(C.bleach_percent=parseInt(t.bleachPercent)),t.depth&&(C.depth=parseFloat(t.depth)));const P=await fetch("/api/sightings",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(C)});if(!P.ok){const n=await P.json();throw new Error(n.error||"Failed to submit sighting")}const g=await P.json(),$=g.sighting?.id;let G=g.xp_earned||0;if(o&&$){const n=new FormData;n.append("photo",o);const U=await fetch(`/api/sightings/${$}/photo`,{method:"POST",body:n});if(U.ok){const Z=await U.json();G+=Z.xp_bonus||0}}if(W({xp:G}),g.leveled_up&&x(g.old_level,g.new_level),g.new_badges&&Array.isArray(g.new_badges))for(const n of g.new_badges)w({name:n.name,description:n.description,icon:n.icon,rarity:n.rarity,category:n.category})}catch(r){console.error("Submit error:",r),alert(r instanceof Error?r.message:"Failed to submit sighting"),S(!1)}};if(F){const a=async()=>{console.log("[analytics] sighting_share_clicked");const i=`I just reported a ${t.type?J.find(d=>d.value===t.type)?.label||t.type:"marine"} sighting on OceanGuardian and earned +${F.xp} XP! ðŸŒŠ Join the mission to protect our oceans.`;if(navigator.share)try{await navigator.share({title:"OceanGuardian Sighting",text:i,url:window.location.origin})}catch(d){console.error("Share failed",d)}else await navigator.clipboard.writeText(i),alert("Copied to clipboard!")};return e.jsx("div",{className:"container mx-auto px-4 py-20 flex justify-center items-center min-h-[calc(100vh-10rem)]",children:e.jsx(T,{variant:"glass",className:"max-w-md w-full border-white/10 !bg-black/60 backdrop-blur-2xl",children:e.jsxs(L,{className:"p-10 text-center space-y-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"bg-primary/20 p-6 rounded-[2.5rem] animate-bounce shadow-2xl shadow-primary/20 border border-primary/20",children:e.jsx(ge,{className:"h-16 w-16 text-primary brightness-150"})})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-black text-white tracking-tighter",children:"Protocol Complete"}),e.jsx("p",{className:"text-sm font-bold text-white/40 mt-3 italic",children:"Data transmission successful. Thank you for protecting our oceans."})]}),e.jsxs("div",{className:"p-6 rounded-[2rem] bg-white/5 border border-white/10 shadow-inner",children:[e.jsxs("p",{className:"text-4xl font-black text-white tracking-tighter",children:["+",F.xp," ",e.jsx("span",{className:"text-primary brightness-125",children:"XP"})]}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-white/30 mt-2",children:"Guardian Contribution Reward"})]}),e.jsxs("div",{className:"flex flex-col gap-4 pt-2",children:[e.jsxs(b,{onClick:a,className:"w-full h-14 rounded-[1.5rem] bg-indigo-600 hover:bg-indigo-700 text-white font-black uppercase tracking-widest text-xs shadow-2xl shadow-indigo-600/30 border-none transition-all hover:scale-[1.02] active:scale-95",children:[e.jsx(ue,{className:"h-5 w-5 mr-3"}),"Share Your Discovery"]}),e.jsxs(b,{onClick:()=>p("/map"),variant:"outline",className:"w-full h-14 rounded-[1.5rem] border-white/10 text-white font-black uppercase tracking-widest text-xs hover:bg-white/10 transition-all",children:[e.jsx(V,{className:"h-5 w-5 mr-3 text-primary"}),"View on Map"]})]})]})})})}const _=t.type==="coral",m=_&&O<6;return e.jsx("div",{className:"container mx-auto px-4 py-14 pb-32 md:pb-14 max-w-3xl",children:e.jsxs(T,{variant:"glass",className:"border-white/10 !bg-black/60 shadow-2xl backdrop-blur-2xl",children:[e.jsx(A,{className:"pb-10 pt-10 px-10",children:e.jsx("div",{className:"flex items-center gap-5 justify-between",children:e.jsxs("div",{children:[e.jsxs(E,{className:"text-4xl font-black text-white tracking-tighter flex items-center gap-4",children:[e.jsx("div",{className:"p-4 rounded-[1.5rem] bg-white/5 border border-white/10",children:e.jsx(z,{className:"h-8 w-8 text-primary brightness-125"})}),"Transmit ",e.jsx("span",{className:"text-primary brightness-125 italic",children:"Sighting"})]}),e.jsx("p",{className:"text-sm font-bold text-white/40 mt-3 italic tracking-wide",children:"Join the global network of ocean protectors. Log your discovery now."})]})})}),e.jsx(L,{className:"px-10 pb-14",children:e.jsxs("form",{onSubmit:Q,className:"space-y-10",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 ml-2",children:"Objective Category"}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:J.map(a=>{const r=a.icon,i=t.type===a.value;return e.jsxs("button",{type:"button",onClick:()=>s({...t,type:a.value,subcategory:""}),className:`
                        relative flex flex-col items-center gap-3 p-6 rounded-[2rem] border transition-all duration-500 group
                        ${i?"bg-primary border-primary text-white shadow-2xl shadow-primary/30 scale-105":"bg-white/5 border-white/5 text-white/40 hover:bg-white/10 hover:border-white/20"}
                      `,children:[e.jsx(r,{className:`h-10 w-10 ${i?"text-white":a.color} mb-1 transition-transform group-hover:scale-110`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-widest text-center",children:a.label}),i&&e.jsx("div",{className:"absolute top-3 right-3 w-2.5 h-2.5 rounded-full bg-white shadow-[0_0_10px_white]"})]},a.value)})})]}),m&&e.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 rounded-[2rem] p-8 flex items-start gap-6 shadow-2xl",children:[e.jsx("div",{className:"p-4 rounded-2xl bg-red-500/20",children:e.jsx(ve,{className:"h-6 w-6 text-red-500 animate-pulse"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:"Classification Restricted"}),e.jsxs("p",{className:"text-sm font-bold text-white/40 mt-2 italic",children:["Coral health diagnostics require high-level clearance (Level 6). You are currently ",e.jsxs("span",{className:"text-red-400",children:["Level ",O]}),". Contribute other data to upgrade your Guardian rank."]})]})]}),t.type&&!m&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{htmlFor:"subcategory",className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 ml-2",children:"Specific Identification"}),e.jsxs(ie,{value:t.subcategory,onValueChange:a=>s({...t,subcategory:a}),children:[e.jsx(le,{id:"subcategory",className:"h-16 bg-white/5 border-white/10 rounded-2xl px-8 text-white font-bold text-sm focus:bg-white/10 transition-all",children:e.jsx(oe,{placeholder:"Select identification protocol..."})}),e.jsx(ne,{className:"bg-[#0f172a] border-white/10 rounded-2xl text-white",children:(Se[t.type]||[]).map(a=>e.jsx(ce,{value:a,className:"focus:bg-primary/20 focus:text-white rounded-xl py-3 px-6",children:a},a))})]})]}),_&&!m&&e.jsxs("div",{className:"space-y-6 bg-primary/5 rounded-[2.5rem] p-8 border border-primary/20 shadow-2xl shadow-primary/5",children:[e.jsxs("h3",{className:"text-[10px] font-black uppercase tracking-[0.3em] flex items-center gap-3 text-primary brightness-125 mb-4 ml-2",children:[e.jsx(X,{className:"h-4 w-4"})," Multi-Sensor Data Capture"]}),e.jsxs("div",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs(h,{htmlFor:"waterTemp",className:"text-[10px] font-black uppercase tracking-widest flex items-center gap-2 text-white/40 ml-2",children:[e.jsx(ye,{className:"h-3.5 w-3.5"})," Temp"]}),e.jsx(j,{id:"waterTemp",type:"number",step:"0.1",placeholder:"28.5",value:t.waterTemp,onChange:a=>s({...t,waterTemp:a.target.value}),className:"h-14 bg-white/10 border-white/10 rounded-2xl px-6 text-white font-bold placeholder:text-white/10"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(h,{htmlFor:"bleachPercent",className:"text-[10px] font-black uppercase tracking-widest flex items-center gap-2 text-white/40 ml-2",children:[e.jsx(je,{className:"h-3.5 w-3.5"})," Bleach"]}),e.jsx(j,{id:"bleachPercent",type:"number",placeholder:"40%",value:t.bleachPercent,onChange:a=>s({...t,bleachPercent:a.target.value}),className:"h-14 bg-white/10 border-white/10 rounded-2xl px-6 text-white font-bold placeholder:text-white/10"})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs(h,{htmlFor:"depth",className:"text-[10px] font-black uppercase tracking-widest flex items-center gap-2 text-white/40 ml-2",children:[e.jsx(Ne,{className:"h-3.5 w-3.5"})," Depth"]}),e.jsx(j,{id:"depth",type:"number",placeholder:"5m",value:t.depth,onChange:a=>s({...t,depth:a.target.value}),className:"h-14 bg-white/10 border-white/10 rounded-2xl px-6 text-white font-bold placeholder:text-white/10"})]})]})]}),t.type&&!m&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{htmlFor:"photo",className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 ml-2",children:"Visual Verification"}),e.jsx("div",{className:"space-y-3",children:f?e.jsxs("div",{className:"relative rounded-[2.5rem] overflow-hidden border border-white/10 shadow-2xl group",children:[e.jsx("img",{src:f,alt:"Preview",className:"w-full h-80 object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsxs("div",{className:"absolute top-6 right-6 flex gap-3",children:[o&&e.jsxs("span",{className:"bg-black/80 backdrop-blur-md text-white text-[10px] font-black uppercase tracking-widest px-4 py-2 rounded-full border border-white/10",children:[(o.size/1024).toFixed(0)," KB"]}),e.jsx(b,{type:"button",variant:"secondary",size:"sm",onClick:()=>{N(null),v(null)},className:"rounded-full h-10 px-6 font-black text-[10px] uppercase tracking-widest bg-white/10 text-white hover:bg-white/20 border-none",children:"Reset"})]})]}):e.jsxs("div",{className:"border-4 border-dashed border-white/5 rounded-[3rem] p-16 text-center hover:border-primary/50 hover:bg-white/5 transition-all duration-500 cursor-pointer group shadow-inner",children:[e.jsx("label",{htmlFor:"photo",className:"cursor-pointer block",children:y?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-16 w-16 mx-auto text-primary mb-6 animate-spin opacity-40"}),e.jsx("p",{className:"text-sm font-black text-white/40 uppercase tracking-widest italic animate-pulse",children:"Processing High-Density Data..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-20 h-20 bg-white/5 rounded-[2.5rem] flex items-center justify-center mx-auto mb-6 border border-white/10 transition-transform group-hover:scale-110 group-hover:bg-primary/10 group-hover:border-primary/30",children:e.jsx(ke,{className:"h-10 w-10 text-white/40 transition-colors group-hover:text-primary"})}),e.jsx("p",{className:"text-lg font-black text-white tracking-tight",children:"Capture Optical Data"}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-white/20 mt-3 italic",children:"Click to upload or use environment camera"}),e.jsx("div",{className:"flex items-center justify-center gap-2 mt-6",children:e.jsx(ae,{variant:"neomorph",className:"bg-primary/20 text-white border-none font-black text-[9px] px-3 py-1",children:"+10 XP BONUS"})})]})}),e.jsx(j,{id:"photo",type:"file",accept:"image/*",capture:"environment",className:"hidden",onChange:Y})]})})]}),t.type&&!m&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{htmlFor:"description",className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 ml-2",children:"Observed Details"}),e.jsx(se,{id:"description",placeholder:"Summarize your observations for the global database...",value:t.description,onChange:a=>s({...t,description:a.target.value}),rows:4,maxLength:500,className:"bg-white/5 border-white/10 rounded-3xl p-8 text-white font-bold text-sm focus:bg-white/10 transition-all placeholder:text-white/10 italic"}),e.jsxs("div",{className:"flex justify-between items-center px-4",children:[e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-white/20",children:"Data Volume Status"}),e.jsxs("p",{className:`text-[10px] font-black uppercase tracking-widest ${t.description.length>400?"text-orange-500":"text-white/40"}`,children:[t.description.length," / 500"]})]})]}),t.type&&!m&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 ml-2",children:"Priority Level"}),e.jsx("div",{className:"flex items-center justify-between gap-3",children:Fe.map(a=>e.jsxs("button",{type:"button",onClick:()=>s({...t,severity:a.value}),className:`
                        flex flex-col items-center gap-3 p-4 rounded-2xl transition-all duration-300 flex-1 border
                        ${t.severity===a.value?"bg-primary border-primary text-white shadow-xl shadow-primary/20 scale-105":"bg-white/5 border-white/5 text-white/30 hover:bg-white/10 hover:text-white/50"}
                      `,children:[e.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${a.value===1?"bg-green-500 shadow-[0_0_8px_green]":a.value===2?"bg-yellow-500 shadow-[0_0_8px_yellow]":a.value===3?"bg-orange-500 shadow-[0_0_8px_orange]":a.value===4?"bg-red-500 shadow-[0_0_8px_red]":"bg-red-700 animate-pulse shadow-[0_0_12px_red]"}`}),e.jsx("span",{className:"text-[10px] font-black uppercase tracking-tighter",children:a.label})]},a.value))})]}),t.type&&!m&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{htmlFor:"location",className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 ml-2",children:"Coordinates"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsx(j,{id:"location",placeholder:"Capture coordinates...",value:t.location,onChange:a=>s({...t,location:a.target.value}),className:"flex-1 h-14 bg-white/5 border-white/10 rounded-2xl px-8 text-white font-bold text-sm tracking-widest placeholder:text-white/10 focus:bg-white/10 transition-all"}),e.jsx(b,{type:"button",variant:"outline",onClick:K,disabled:I,className:"h-14 px-8 rounded-2xl border-white/10 text-white font-black text-xs uppercase tracking-widest hover:bg-white/10 transition-all",children:I?e.jsx(D,{className:"h-5 w-5 animate-spin text-primary"}):e.jsxs(e.Fragment,{children:[e.jsx(Ce,{className:"h-5 w-5 mr-3 text-primary"}),"Sync GPS"]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs(h,{className:"text-[10px] font-black uppercase tracking-[0.3em] text-white/30 flex items-center gap-2",children:[e.jsx(V,{className:"h-3 w-3"})," Map Selection"]}),e.jsx("span",{className:"text-[9px] font-black uppercase tracking-widest text-primary brightness-125",children:"Tap map to drop pin"})]}),e.jsxs("div",{className:"h-64 rounded-[2rem] overflow-hidden border border-white/10 shadow-2xl relative group",children:[e.jsxs(de,{center:[14.5547,121.024],zoom:12,className:"h-full w-full",style:{background:"#0a192f"},children:[e.jsx(he,{attribution:'Â© <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),e.jsx(Te,{onLocationSelect:(a,r)=>{s(i=>({...i,location:`${a.toFixed(6)}, ${r.toFixed(6)}`}))},selectedLocation:(()=>{const[a,r]=t.location.split(",").map(i=>parseFloat(i.trim()));return!isNaN(a)&&!isNaN(r)?new H.LatLng(a,r):null})()})]}),e.jsx("div",{className:"absolute inset-0 pointer-events-none shadow-[inset_0_0_60px_rgba(0,0,0,0.5)] rounded-[2rem]"})]})]}),e.jsx("p",{className:"text-[10px] font-black uppercase tracking-widest text-white/20 ml-2 italic",children:"Drop a pin precisely on the map or use satellite sync for maximum precision."})]}),t.type&&!m&&e.jsxs("div",{className:"flex gap-6 pt-10",children:[e.jsx(b,{type:"button",variant:"ghost",onClick:()=>p("/map"),className:"flex-1 h-16 rounded-[1.5rem] font-black text-xs uppercase tracking-widest text-white/30 hover:bg-white/10 hover:text-white transition-all",children:"Abort"}),e.jsx(b,{type:"submit",size:"lg",className:"flex-1 h-16 rounded-[1.5rem] bg-primary text-white font-black uppercase tracking-widest text-xs shadow-2xl shadow-primary/40 border-none transition-all hover:scale-[1.02] active:scale-95 disabled:grayscale disabled:opacity-50",disabled:M||!t.type||!t.subcategory||!t.description||!t.location||_&&!o,children:M?e.jsxs(e.Fragment,{children:[e.jsx(D,{className:"h-5 w-5 mr-3 animate-spin"}),"Transmitting..."]}):"Transmit Report"})]})]})})]})})}export{Ee as default};
